<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 Bengaluru Air Quality & Weather Monitor</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Environmental Data</h2>
            <p>Fetching real-time air quality and weather information...</p>
        </div>
    </div>

    <!-- Alert System -->
    <div id="alert-container" class="alert-container"></div>

    <!-- Main Dashboard -->
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-left">
                    <h1><i class="fas fa-leaf"></i> Bengaluru Air Quality Monitor</h1>
                    <p class="header-subtitle">Real-time environmental monitoring dashboard</p>
                </div>
                <div class="header-right">
                    <button id="refresh-btn" class="refresh-btn" title="Refresh Data">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <div class="last-updated">
                        <span>Last updated: <span id="last-updated-time">--</span></span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Current Conditions Section -->
            <section class="current-conditions">
                <div class="conditions-grid">
                    <!-- Air Quality Card -->
                    <div class="condition-card aqi-card">
                        <div class="card-header">
                            <h3><i class="fas fa-wind"></i> Air Quality</h3>
                            <div class="aqi-badge" id="aqi-badge">--</div>
                        </div>
                        <div class="card-content">
                            <div class="aqi-main">
                                <div class="aqi-value" id="aqi-value">--</div>
                                <div class="aqi-status" id="aqi-status">Loading...</div>
                            </div>
                            <div class="aqi-details">
                                <div class="pollutant-grid">
                                    <div class="pollutant-item">
                                        <span class="pollutant-label">PM2.5</span>
                                        <span class="pollutant-value" id="pm25-value">--</span>
                                        <div class="pollutant-bar">
                                            <div class="pollutant-progress" id="pm25-progress"></div>
                                        </div>
                                    </div>
                                    <div class="pollutant-item">
                                        <span class="pollutant-label">PM10</span>
                                        <span class="pollutant-value" id="pm10-value">--</span>
                                        <div class="pollutant-bar">
                                            <div class="pollutant-progress" id="pm10-progress"></div>
                                        </div>
                                    </div>
                                    <div class="pollutant-item">
                                        <span class="pollutant-label">NO₂</span>
                                        <span class="pollutant-value" id="no2-value">--</span>
                                        <div class="pollutant-bar">
                                            <div class="pollutant-progress" id="no2-progress"></div>
                                        </div>
                                    </div>
                                    <div class="pollutant-item">
                                        <span class="pollutant-label">O₃</span>
                                        <span class="pollutant-value" id="o3-value">--</span>
                                        <div class="pollutant-bar">
                                            <div class="pollutant-progress" id="o3-progress"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Weather Card -->
                    <div class="condition-card weather-card">
                        <div class="card-header">
                            <h3><i class="fas fa-thermometer-half"></i> Weather</h3>
                            <div class="weather-icon" id="weather-icon">
                                <i class="fas fa-sun"></i>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="weather-main">
                                <div class="temperature-display">
                                    <span class="temperature" id="temperature">--</span>
                                    <span class="temperature-unit">°C</span>
                                </div>
                                <div class="weather-description" id="weather-description">Loading...</div>
                                <div class="feels-like">
                                    Feels like <span id="feels-like">--</span>°C
                                </div>
                            </div>
                            <div class="weather-details">
                                <div class="weather-detail-grid">
                                    <div class="weather-detail-item">
                                        <i class="fas fa-tint"></i>
                                        <span class="detail-label">Humidity</span>
                                        <span class="detail-value" id="humidity">--%</span>
                                    </div>
                                    <div class="weather-detail-item">
                                        <i class="fas fa-compress-arrows-alt"></i>
                                        <span class="detail-label">Pressure</span>
                                        <span class="detail-value" id="pressure">-- hPa</span>
                                    </div>
                                    <div class="weather-detail-item">
                                        <i class="fas fa-wind"></i>
                                        <span class="detail-label">Wind</span>
                                        <span class="detail-value" id="wind-speed">-- km/h</span>
                                    </div>
                                    <div class="weather-detail-item">
                                        <i class="fas fa-eye"></i>
                                        <span class="detail-label">Visibility</span>
                                        <span class="detail-value" id="visibility">-- km</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <div class="charts-grid">
                    <!-- AQI Trends Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-line"></i> Air Quality Trends</h3>
                            <div class="chart-controls">
                                <select id="aqi-period-select" class="period-select">
                                    <option value="24h">24 Hours</option>
                                    <option value="7d">7 Days</option>
                                    <option value="30d">30 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="aqi-chart"></canvas>
                        </div>
                    </div>

                    <!-- Weather Trends Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-area"></i> Weather Trends</h3>
                            <div class="chart-controls">
                                <select id="weather-period-select" class="period-select">
                                    <option value="24h">24 Hours</option>
                                    <option value="7d">7 Days</option>
                                    <option value="30d">30 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="weather-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Health Recommendations -->
            <section class="health-section">
                <div class="health-card">
                    <div class="card-header">
                        <h3><i class="fas fa-heartbeat"></i> Health Recommendations</h3>
                    </div>
                    <div class="card-content">
                        <div id="health-recommendations" class="health-recommendations">
                            <div class="recommendation-item">
                                <i class="fas fa-info-circle"></i>
                                <span>Loading health recommendations...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Location Comparison -->
            <section class="location-section">
                <div class="location-card">
                    <div class="card-header">
                        <h3><i class="fas fa-map-marker-alt"></i> Bengaluru Areas Comparison</h3>
                    </div>
                    <div class="card-content">
                        <div id="location-grid" class="location-grid">
                            <!-- Location data will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="dashboard-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p>&copy; 2025 Bengaluru Air Quality Monitor. Made with ❤️ for a cleaner city.</p>
                </div>
                <div class="footer-right">
                    <p>Data provided by <a href="https://openweathermap.org/" target="_blank">OpenWeatherMap</a></p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>